{:first-step "map-counts", :properties {}, :revision 8, :name "shakespeare", :steps [{:properties {:sys-key :core, :jobdef-name "word-count", :standalone-system? false}, :revision 1, :type :map, :next {"*" "reduce-counts", "error" "err-notif"}, :id "map-counts", :supertype :map, :workload-fn #titanoboa.exp.Expression{:value "(fn [job]\n  (throw (java.lang.Exception. \"Run away!!!\"))\n  (mapv \n     (fn [i] {:properties {:txt-file i}})\n     (-> \"/home/miro/Dropbox/titanoboa/resources/test/shakes\" \n         java.io.File. \n         file-seq \n         rest)))"}} {:properties {:commit-interval 15, :map-step-id "map-counts"}, :revision 1, :type :reduce, :next {}, :id "reduce-counts", :supertype :reduce, :workload-fn #titanoboa.exp.Expression{:value "(fn [value item]\n  (let [value (or value {}) \n         counts (get-in item [:properties :word-counts])]\n         (update-in value [:properties :shakes-counts ] #(merge-with + % counts))))"}} {:properties {:email {:from "job-monitor@titanoboa.io", :body "Something went wrong!", :subject "Cat!", :to "joe@example.com"}, :connection {:port 2525, :host "localhost"}}, :revision 1, :type :smtp, :next {}, :id "err-notif", :supertype :tasklet, :workload-fn #titanoboa.exp.Expression{:value "titanoboa.tasklet.smtp/send"}}], :type nil}